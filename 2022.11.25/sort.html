<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      function sort(a, b, e, t) {
        if (b >= e || b + 1 >= e) {
          return;
        }
        let m = b + ((e - b) >> 1);
        sort(a, b, m, t);
        sort(a, m, e, t);
        let i = b;
        let j = m;
        let to = b;
        console.log(b, m, e);
        while (i < m || j < e) {
          if (j >= e || (i < m && a[i] <= a[j])) {
            t[to++] = a[i++];
          } else {
            t[to++] = a[j++];
          }
        }
        for (i = b; i < e; i++) {
          a[i] = t[i];
        }
      }
      //   let arr = [2, 3, 4, 1, 9, 6, 5, 7, 8];
      //   sort(arr, 0, arr.length, []);
      //   console.log(arr);
      // 快速排序
      function swap(arr, i, j) {
        let temp = arr[i];
        arr[i] = arr[j];
        arr[j] = temp;
      }
      function sort1(arr, b, e) {
        if (b >= e || b + 1 >= e) {
          return;
        }
        let m = b + ((e - b) >> 1);
        let x = arr[m];
        let l = b,
          i = b,
          r = e - 1;
        while (i <= r) {
          if (arr[i] < x) {
            swap(arr, l++, i++);
          } else if (arr[i] === x) {
            // console.log(1)
            // console.log(arr)
            i++;
          } else {
            swap(arr, r--, i);
          }
          console.log(arr)
        }
        // console.log(arr);
        sort1(arr, b, l);
        sort1(arr, i, e);
      }
      let arr = [2, 5, 5, 1, 5, 5, 5, 7, 8];
      sort1(arr, 0, arr.length);
      console.log(arr);
    </script>
  </body>
</html>
